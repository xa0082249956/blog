---
title: 正则表达式基础
date: 2017-07-30 15:00:43
uploaded: 2017-07-31 12:10:00
tags:
- regex
categories:
- coding
---

## 语法规则

### 字符

-------------------------------------------------------
语法                说明
------------------- -----------------------------------
`\`                 转义

`.`                 除`\n`以外的任意字符

`[…]`               字符集`…`中的任意一个字符

`[a-c]`             `a`-`c`中的任意一个字符

`[^…]`              除字符集`…`外的任意字符
-------------------------------------------------------

### 预定义字符集

可以写在字符集`[…]`中

------------------ ------------------------------------
`\d`                `[0-9]`

`\D`                `[^\d]`

`\s`                `[`<空格>`\t\r\n\f\v]`

`\S`                `[^\S]`

`\w`                `[a-zA-Z0-9]`

`\W`                `[^\w]`
------------------ ------------------------------------

### 数量词

用在字符或`(…)`之后

------------------ ------------------------------------
`{m, n}`            前一个字符 `m` - `n` 次

`{m}`               `{m,}`

`*`                 `{0}`

`+`                 `{1}`

`?`                 `{0,1}`

`{m, n}?`           非贪婪模式
------------------ ------------------------------------

### 边界匹配

不消耗待匹配字符串中的字符.

------------------ ------------------------------------
`^`                 字符串开头
                    在多行模式中匹配每一行的开头

`$`                 字符串末尾
                    在多行模式中匹配每一行的末尾

`\A`                仅字符串开头

`\B`                仅字符串末尾

`\b`                `\w`与`\W`之间

`\B`                `[^\b]`
------------------ ------------------------------------

### 逻辑与分组

------------------ ------------------------------------
`|`                 左右表达式任意一个，先左后右

`(…)`               分组，编号1, 2, 3……

`(?P<name>...)`     分组，除原有编号外指定组名`<name>`

`\<number>`         引用组`<number>`

`(P=<name>)`        引用组`<name>`
 `(?:…)`            `(?…)`的不分组版本
------------------ ------------------------------------

### 特殊构造

特殊构造不分组.

------------------ ------------------------------------
`(?#…)`             注释

`(?=…)`             字符串之后的内容匹配`…`

`(?!…)`             字符串之后的内容不匹配`…`

`(?<=…)`            字符串之前的内容匹配`…`

`(?<!…)`            字符串之前的内容不匹配`…`

`(?(<id>/<name>)`\    如果`<id>/<name>`匹配成功,\
`yes-pattern`\         则匹配 `yes-pattern`,\
`|no-pattern)`       否则匹配 `no-pattern`
------------------ ------------------------------------
